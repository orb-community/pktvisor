AppImage Packaging
==================

Creates an AppImage that contains `pktvisord` `pktvisor-pcap` and `pktvisor-cli`. This implementation builds the AppImage in a docker using the assets generated by the docker [build](../docker). Because not all of the assets are statically linked we use [Exodus](https://github.com/intoli/exodus) to capture a minimal set of dependencies for the AppImage 


## Build:
`make pktvisor-x86_64.AppImage`

## Development:
Because the build can take a while you may want to build the appimage from the latest docker image on docker hub. To do this you can set the `DEV_MODE=` environment to anything. Like so:

`DEV_MODE=t make pktvisor-x86_64.AppImage`

You may also specify a custom image in dev mode by setting the env file `DEV_IMAGE=` to the image you wish to build on. Example:

`DEV_IMAGE="ns1labs/pktvisor:develop" DEV_MODE=t make pktvisor-x86_64.AppImage`


## Usage:
To use the AppImage from the command line you can specify the binary you want to run as the first argument following the pattern:

`
./pktvisor-x86_64.AppImage [pktvisord|pktvisor-pcap|pktvisor-cli] <args>
`

If you don't specify a binary, all args are passed to pktvisord by default.

